# 今日年龄模块测试用例

## 一、年龄计算功能测试

### 1.1 年龄计算基本功能

#### TC-001: 计算年龄 - 基本功能
**测试步骤：**
1. 打开今日年龄模块
2. 点击"🎂 今日年龄"按钮
3. 选择生日日期
4. 点击"点击计算"按钮

**预期结果：**
- 显示计算动画（"计算中..."）
- 2秒后显示年龄结果
- 显示彩带特效
- 3秒后自动关闭模态框
- 主界面显示今日年龄卡片

#### TC-002: 计算年龄 - 已计算过的情况
**测试步骤：**
1. 今天已经计算过年龄
2. 点击"🎂 今日年龄"按钮

**预期结果：**
- 直接打开详情模态框
- 显示详细年龄信息
- 不打开计算模态框

#### TC-003: 计算年龄 - 查看已计算年龄
**测试步骤：**
1. 今天已经计算过年龄
2. 点击主界面显示的今日年龄卡片

**预期结果：**
- 打开详情模态框
- 显示详细年龄（年月日时分秒）
- 年龄实时更新（每秒）

### 1.2 生日选择功能

#### TC-004: 选择生日 - 基本功能
**测试步骤：**
1. 打开计算模态框
2. 使用日期选择器选择生日

**预期结果：**
- 日期选择器正常显示
- 可以选择日期
- 选择的日期正确显示

#### TC-005: 选择生日 - 默认值
**测试步骤：**
1. 打开计算模态框
2. 查看默认生日

**预期结果：**
- 默认生日为2005年1月1日
- 日期选择器显示默认值

#### TC-006: 选择生日 - 最大日期限制
**测试步骤：**
1. 打开日期选择器
2. 尝试选择今天之后的日期

**预期结果：**
- 今天之后的日期不可选择
- maxDate限制生效

#### TC-007: 选择生日 - 选择今天
**测试步骤：**
1. 选择今天的日期作为生日
2. 计算年龄

**预期结果：**
- 年龄为0岁（或接近0岁）
- 计算结果正确

#### TC-008: 选择生日 - 选择很久以前的日期
**测试步骤：**
1. 选择很久以前的日期（如1900年）
2. 计算年龄

**预期结果：**
- 年龄计算正确
- 显示正确的年龄（如100+岁）

#### TC-009: 选择生日 - 未选择生日时计算
**测试步骤：**
1. 打开计算模态框
2. 不选择生日（使用默认值）
3. 点击计算按钮

**预期结果：**
- 使用默认生日（2005-01-01）进行计算
- 计算按钮可用（不禁用）

#### TC-010: 选择生日 - 生日为空时计算
**测试步骤：**
1. 清空生日（如果可能）
2. 尝试计算

**预期结果：**
- 显示错误提示："请选择生日"
- 或计算按钮禁用

### 1.3 年龄结果显示

#### TC-011: 年龄结果 - 主界面显示
**测试步骤：**
1. 计算年龄后查看主界面

**预期结果：**
- 显示"今日年龄"标题
- 显示年龄（精确到小数点后2位）
- 显示"岁"单位

#### TC-012: 年龄结果 - 模态框显示
**测试步骤：**
1. 计算年龄后查看模态框结果

**预期结果：**
- 显示年龄（精确到小数点后2位）
- 显示"您的年龄"标签
- 样式美观

#### TC-013: 年龄结果 - 详细年龄显示
**测试步骤：**
1. 打开详情模态框
2. 查看详细年龄

**预期结果：**
- 显示详细年龄格式："X岁X月X日X时X分X秒"
- 年龄实时更新（每秒）
- 格式正确

#### TC-014: 年龄结果 - 年龄实时更新
**测试步骤：**
1. 打开详情模态框
2. 等待几秒
3. 观察年龄变化

**预期结果：**
- 年龄每秒更新
- 秒数正确递增
- 分钟、小时、天数正确更新

#### TC-015: 年龄结果 - 年龄计算精度
**测试步骤：**
1. 选择特定生日
2. 计算年龄
3. 验证年龄精度

**预期结果：**
- 年龄精确到小数点后2位
- 计算准确（考虑闰年）

### 1.4 重置功能

#### TC-016: 重置年龄 - 基本功能（开发环境）
**测试步骤：**
1. 在开发环境下
2. 已计算过年龄
3. 点击重置按钮（🔄）
4. 确认重置

**预期结果：**
- 显示确认对话框："确定要重置今天的年龄记录吗？（仅用于调试）\n\n重置后可以重新输入生日进行计算。"
- 确认后年龄记录被清除
- 主界面恢复为"🎂 今日年龄"按钮
- 显示成功提示："已重置年龄记录"
- 详情模态框关闭（如果打开）

#### TC-017: 重置年龄 - 取消重置
**测试步骤：**
1. 点击重置按钮
2. 在确认对话框中点击取消

**预期结果：**
- 年龄记录未被清除
- 主界面保持不变

#### TC-018: 重置年龄 - 无记录时重置
**测试步骤：**
1. 今天还没有计算过年龄
2. 尝试重置（如果按钮存在）

**预期结果：**
- 显示提示："今天还没有年龄记录"
- 或重置按钮不显示

#### TC-019: 重置年龄 - 重置后重新计算
**测试步骤：**
1. 重置今天的年龄
2. 重新选择生日并计算

**预期结果：**
- 可以重新计算
- 使用新的生日
- 计算结果正确

#### TC-020: 重置按钮 - 生产环境不显示
**测试步骤：**
1. 在生产环境下
2. 已计算过年龄

**预期结果：**
- 重置按钮不显示
- 只有开发环境显示重置按钮

## 二、详情模态框功能

### 2.1 详情模态框打开和关闭

#### TC-021: 打开详情模态框 - 基本功能
**测试步骤：**
1. 已计算过年龄
2. 点击主界面的今日年龄卡片

**预期结果：**
- 打开详情模态框
- 显示详细年龄信息
- 年龄实时更新

#### TC-022: 关闭详情模态框 - 点击外部
**测试步骤：**
1. 打开详情模态框
2. 点击模态框外部区域

**预期结果：**
- 详情模态框关闭
- 年龄更新停止

#### TC-023: 关闭详情模态框 - 点击内容区域不关闭
**测试步骤：**
1. 打开详情模态框
2. 点击模态框内容区域

**预期结果：**
- 详情模态框不关闭
- 只有点击外部区域才关闭

### 2.2 详细年龄显示

#### TC-024: 详细年龄 - 格式显示
**测试步骤：**
1. 打开详情模态框
2. 查看详细年龄格式

**预期结果：**
- 格式为："X岁X月X日X时X分X秒"
- 所有单位都显示
- 格式正确

#### TC-025: 详细年龄 - 实时更新机制
**测试步骤：**
1. 打开详情模态框
2. 观察年龄更新

**预期结果：**
- 每秒更新一次
- 更新流畅
- 关闭模态框后停止更新

#### TC-026: 详细年龄 - 借位计算
**测试步骤：**
1. 选择特定生日
2. 观察详细年龄的借位计算

**预期结果：**
- 秒数借位正确
- 分钟借位正确
- 小时借位正确
- 天数借位正确（考虑月份天数）
- 月份借位正确（考虑年份）

## 三、模态框交互功能

### 3.1 计算模态框

#### TC-027: 打开计算模态框 - 基本功能
**测试步骤：**
1. 点击"🎂 今日年龄"按钮

**预期结果：**
- 模态框打开
- 显示计算界面
- 背景遮罩显示

#### TC-028: 关闭计算模态框 - 点击外部
**测试步骤：**
1. 打开计算模态框
2. 点击模态框外部区域

**预期结果：**
- 模态框关闭
- 状态重置
- 生日恢复为默认值

#### TC-029: 模态框 - 点击内容区域不关闭
**测试步骤：**
1. 打开模态框
2. 点击模态框内容区域

**预期结果：**
- 模态框不关闭
- 只有点击外部区域才关闭

### 3.2 彩带特效

#### TC-030: 彩带特效 - 计算成功后显示
**测试步骤：**
1. 计算年龄成功

**预期结果：**
- 显示彩带特效
- 3秒后自动消失
- 特效覆盖整个屏幕

#### TC-031: 彩带特效 - 特效样式
**测试步骤：**
1. 观察彩带特效

**预期结果：**
- 彩带数量足够（500个）
- 颜色多样（5种颜色）
- 动画流畅
- 随机延迟和持续时间

## 四、年龄计算逻辑测试

### 4.1 年龄计算准确性

#### TC-032: 年龄计算 - 精确到小数点后2位
**测试步骤：**
1. 选择生日
2. 计算年龄
3. 查看年龄格式

**预期结果：**
- 年龄精确到小数点后2位
- 格式为："XX.XX岁"

#### TC-033: 年龄计算 - 考虑闰年
**测试步骤：**
1. 选择闰年2月29日
2. 计算年龄

**预期结果：**
- 年龄计算正确
- 考虑闰年因素

#### TC-034: 年龄计算 - 不同月份天数
**测试步骤：**
1. 选择不同月份的日期
2. 计算年龄
3. 查看详细年龄

**预期结果：**
- 天数借位正确
- 考虑不同月份的天数（28/29/30/31）

#### TC-035: 年龄计算 - 跨年计算
**测试步骤：**
1. 选择去年12月31日
2. 在今天（1月1日）计算年龄

**预期结果：**
- 年龄计算正确
- 年份正确递增

#### TC-036: 年龄计算 - 同一天不同时间
**测试步骤：**
1. 选择今天的日期
2. 在不同时间计算年龄

**预期结果：**
- 年龄接近0岁
- 详细年龄显示正确的小时、分钟、秒

### 4.2 详细年龄计算

#### TC-037: 详细年龄 - 秒数计算
**测试步骤：**
1. 打开详情模态框
2. 观察秒数变化

**预期结果：**
- 秒数正确递增
- 达到60秒时正确借位

#### TC-038: 详细年龄 - 分钟计算
**测试步骤：**
1. 打开详情模态框
2. 等待超过1分钟
3. 观察分钟变化

**预期结果：**
- 分钟正确递增
- 达到60分钟时正确借位

#### TC-039: 详细年龄 - 小时计算
**测试步骤：**
1. 打开详情模态框
2. 等待超过1小时
3. 观察小时变化

**预期结果：**
- 小时正确递增
- 达到24小时时正确借位

#### TC-040: 详细年龄 - 天数计算
**测试步骤：**
1. 选择特定日期
2. 等待超过1天
3. 观察天数变化

**预期结果：**
- 天数正确递增
- 达到月份最大天数时正确借位

#### TC-041: 详细年龄 - 月份计算
**测试步骤：**
1. 选择特定日期
2. 等待超过1个月
3. 观察月份变化

**预期结果：**
- 月份正确递增
- 达到12个月时正确借位

#### TC-042: 详细年龄 - 年份计算
**测试步骤：**
1. 选择特定日期
2. 等待超过1年
3. 观察年份变化

**预期结果：**
- 年份正确递增
- 年份计算正确

## 五、数据持久化测试

#### TC-043: 数据持久化 - 刷新页面
**测试步骤：**
1. 计算年龄后刷新页面

**预期结果：**
- 今日年龄卡片仍然显示
- 年龄信息正确
- 数据完整

#### TC-044: 数据持久化 - 关闭浏览器
**测试步骤：**
1. 计算年龄后关闭浏览器
2. 重新打开

**预期结果：**
- 今日年龄卡片仍然显示
- 数据完整

#### TC-045: 数据持久化 - 跨日期
**测试步骤：**
1. 今天计算年龄
2. 等待到第二天
3. 查看今日年龄

**预期结果：**
- 显示"🎂 今日年龄"按钮（可以重新计算）
- 昨天的记录保留但不显示
- 年龄需要重新计算

#### TC-046: 数据持久化 - 重置后重新计算
**测试步骤：**
1. 计算年龄
2. 重置
3. 重新选择生日并计算
4. 刷新页面

**预期结果：**
- 显示最新的年龄结果
- 数据正确保存

## 六、边界条件和异常情况

#### TC-047: 边界条件 - 生日为今天
**测试步骤：**
1. 选择今天的日期作为生日
2. 计算年龄

**预期结果：**
- 年龄为0岁（或接近0岁）
- 详细年龄显示正确的时分秒

#### TC-048: 边界条件 - 生日为未来日期
**测试步骤：**
1. 尝试选择未来的日期

**预期结果：**
- 未来日期不可选择
- maxDate限制生效

#### TC-049: 边界条件 - 生日为很久以前
**测试步骤：**
1. 选择很久以前的日期（如1900年）
2. 计算年龄

**预期结果：**
- 年龄计算正确
- 显示正确的年龄（100+岁）

#### TC-050: 边界条件 - 快速连续操作
**测试步骤：**
1. 快速连续点击计算按钮

**预期结果：**
- 只执行一次计算
- 防止重复计算

#### TC-051: 异常情况 - localStorage存储失败
**测试步骤：**
1. 模拟localStorage存储失败
2. 尝试计算年龄

**预期结果：**
- 显示错误提示："计算失败，请重试"
- 或静默失败

#### TC-052: 异常情况 - 年龄计算失败
**测试步骤：**
1. 模拟年龄计算函数异常
2. 尝试计算

**预期结果：**
- 显示错误提示："计算失败，请重试"
- 模态框状态重置

## 七、UI/UX测试

#### TC-059: UI/UX - 计算动画
**测试步骤：**
1. 点击计算按钮
2. 观察计算动画

**预期结果：**
- 动画流畅
- 蛋糕图标显示
- "计算中..."文字显示

#### TC-060: UI/UX - 彩带特效
**测试步骤：**
1. 计算成功后观察彩带特效

**预期结果：**
- 彩带数量足够（500个）
- 颜色多样
- 动画流畅
- 3秒后消失

#### TC-061: UI/UX - 年龄卡片样式
**测试步骤：**
1. 查看今日年龄卡片样式

**预期结果：**
- 卡片样式美观
- 年龄显示清晰
- 可点击区域明显

#### TC-062: UI/UX - 模态框样式
**测试步骤：**
1. 查看模态框样式

**预期结果：**
- 背景遮罩半透明
- 内容区域居中
- 样式美观

#### TC-063: UI/UX - 日期选择器
**测试步骤：**
1. 查看日期选择器

**预期结果：**
- 日期选择器样式美观
- 操作流畅
- 日期显示清晰

#### TC-064: UI/UX - 详细年龄显示样式
**测试步骤：**
1. 查看详细年龄显示

**预期结果：**
- 年龄显示大而清晰
- 格式易读
- 样式美观

#### TC-065: UI/UX - 响应式布局
**测试步骤：**
1. 在不同屏幕尺寸下查看

**预期结果：**
- 布局自适应
- 模态框大小合适
- 内容正常显示
- 无横向滚动条

---

## 测试总结

### 测试覆盖范围（全部65个用例）
- ✅ 年龄计算基本功能（10个用例）
- ✅ 生日选择功能（7个用例）
- ✅ 年龄结果显示（5个用例）
- ✅ 重置功能（5个用例）
- ✅ 详情模态框功能（6个用例）
- ✅ 模态框交互功能（4个用例）
- ✅ 年龄计算逻辑测试（11个用例）
- ✅ 数据持久化测试（4个用例）
- ✅ 边界条件和异常情况（6个用例）
- ✅ UI/UX测试（7个用例）

**总计：65个测试用例**

### 重点测试项
1. **年龄计算功能**：基本计算、生日选择、已计算处理
2. **年龄显示**：主界面显示、详细年龄显示、实时更新
3. **年龄计算逻辑**：精确度、闰年处理、借位计算、跨年计算
4. **数据持久化**：刷新页面、跨日期、重置后数据
5. **UI/UX**：计算动画、彩带特效、卡片样式、模态框布局

### 测试完成度
✅ **今日年龄模块测试用例编写完成（65个用例）**

所有功能点、年龄计算逻辑、边界条件、异常情况和UI/UX均已覆盖。测试用例可用于全面测试今日年龄模块的各项功能。

