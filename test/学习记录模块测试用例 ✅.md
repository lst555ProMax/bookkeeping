# 学习记录模块测试用例

## 测试概述
本文档包含学习记录模块的测试用例，涵盖所有功能点和边界条件测试。

---

## 一、记录添加功能测试

### 1.1 基本添加功能

#### P0 TC-001: 正常添加学习记录  ✅
**前置条件：** 已进入学习记录页面  
**测试步骤：**

1. 选择日期：2025-01-15
2. 选择分类：前后端开发
3. 输入视频标题：React 入门教程
4. 输入起始集数：1
5. 输入结束集数：5
6. 输入观看总时间：120（分钟）
7. 点击"添加记录"

**预期结果：**
- 提示"添加成功"
- 记录出现在列表中
- 表单重置为默认值

#### P1 TC-002: 添加包含备注的记录  ✅
**测试步骤：**
1. 填写基本学习信息
2. 输入备注：学习了React的基础概念
3. 提交

**预期结果：**
- 添加成功
- 备注正常保存和显示

#### P2 TC-003: 添加无备注的记录  ✅
**测试步骤：**
1. 只填写必填字段
2. 不填写备注
3. 提交

**预期结果：**
- 添加成功
- 备注字段为空或undefined

#### P2 TC-004: 单集观看记录  ✅
**测试步骤：**
1. 填写基本学习信息
2. 起始集数：10
3. 结束集数：10（同一集）
4. 提交

**预期结果：**
- 添加成功
- 显示为"第10集"

### 1.2 集数边界值测试

#### P2 TC-005: 集数边界值 - 最小值0  ✅
**测试步骤：**

1. 起始集数：0
2. 结束集数：0
3. 填写其他必填项
4. 提交

**预期结果：**

- 添加成功   **不应该能填0，并且如果输入的是无效的数字的时候的逻辑也不对**

#### P1 TC-006: 集数边界值 - 负数  ✅
**测试步骤：**
1. 起始集数：-1
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"集数不能为负数"
- 添加失败

#### P1 TC-007: 集数边界值 - 起始大于结束  ✅
**测试步骤：**
1. 起始集数：10
2. 结束集数：5
3. 填写其他必填项
4. 提交

**预期结果：**
- 提示"结束集数必须大于或等于起始集数"
- 添加失败

#### P2 TC-008: 集数边界值 - 起始等于结束  ✅
**测试步骤：**
1. 起始集数：5
2. 结束集数：5
3. 填写其他必填项
4. 提交

**预期结果：**
- 添加成功
- 显示为"第5集"

#### P2 TC-009: 集数边界值 - 大数值  ✅
**测试步骤：**
1. 起始集数：1000
2. 结束集数：1010
3. 填写其他必填项
4. 提交

**预期结果：**
- 添加成功

#### P1 TC-010: 集数为空  ✅
**测试步骤：**
1. 不填写起始集数或结束集数
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"请输入观看集数"
- 添加失败

#### P1 TC-011: 集数非数字  ✅
**测试步骤：**
1. 起始集数输入：abc
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"集数必须是有效的数字"
- 添加失败

### 1.3 观看时长边界值测试

#### P2 TC-012: 观看时长最小值  ✅
**测试步骤：**
1. 输入观看总时间：1（分钟）
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功

#### P1 TC-013: 观看时长边界值 - 0  ✅
**测试步骤：**
1. 输入观看总时间：0
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"观看总时间必须是大于0的数字"
- 添加失败

#### P1 TC-014: 观看时长边界值 - 负数  ✅
**测试步骤：**
1. 输入观看总时间：-10
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"观看总时间必须是大于0的数字"
- 添加失败

#### P2 TC-015: 观看时长边界值 - 极大值  ✅
**测试步骤：**
1. 输入观看总时间：99999
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功（如果系统支持）

#### P1 TC-016: 观看时长为空  ✅
**测试步骤：**
1. 不填写观看总时间
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"请输入观看总时间"
- 添加失败

#### P1 TC-017: 观看时长非数字  ✅
**测试步骤：**
1. 输入观看总时间：abc
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"观看总时间必须是大于0的数字"
- 添加失败

### 1.4 视频标题验证

#### P1 TC-018: 视频标题为空  ✅
**测试步骤：**
1. 不填写视频标题
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"请输入视频标题"
- 添加失败

#### P2 TC-019: 视频标题只有空格  ✅
**测试步骤：**
1. 输入视频标题："   "
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"请输入视频标题"
- 添加失败

#### P2 TC-020: 视频标题前后空格处理  ✅
**测试步骤：**
1. 输入视频标题："  React教程  "（前后有空格）
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 前后空格被trim处理

#### P2 TC-021: 视频标题超长  ✅
**测试步骤：**
1. 输入超长视频标题（如200字符）
2. 填写其他必填项
3. 提交

**预期结果：**
- 根据系统限制处理
- 或正常保存

### 1.5 日期边界值测试

#### P2 TC-022: 日期边界值 - 最早日期  ✅
**测试步骤：**
1. 选择日期：2024-10-01（系统限制的最早日期）
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功

#### P2 TC-023: 日期边界值 - 早于限制日期  ✅
**测试步骤：**
1. 尝试选择日期：2024-09-30
2. 填写其他必填项
3. 提交

**预期结果：**
- 日期选择器不允许选择该日期
- 或提示"日期必须从2024年10月开始"  **日期没有重置**

#### P1 TC-024: 日期必填验证 ✅
**测试步骤：**
1. 不选择日期
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"请选择日期"
- 添加失败

### 1.6 分类验证

#### P1 TC-025: 分类必填验证  ✅
**测试步骤：**
1. 不选择分类
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示必须选择分类
- 添加失败

### 1.7 快捷键和交互测试

#### P2 TC-026: 快捷键提交测试  ✅
**测试步骤：**
1. 填写完整的记录信息
2. 按 Ctrl + Enter

**预期结果：**
- 记录成功添加

#### P2 TC-027: 连续添加多条记录  ✅
**测试步骤：**
1. 添加一条记录
2. 不改变日期和分类，只修改其他信息
3. 再次添加记录
4. 重复3次

**预期结果：**
- 每次添加成功
- 日期和分类保持不变，方便连续记录

---

## 二、记录编辑功能测试

### 2.1 基本编辑功能

#### P0 TC-028: 正常编辑学习记录  ✅
**前置条件：** 已有一条学习记录  
**测试步骤：**
1. 点击记录的编辑按钮
2. 修改视频标题：从"React 入门"改为"React 进阶"
3. 修改结束集数：从5改为10
4. 修改观看总时间：从120改为240
5. 点击"更新记录"

**预期结果：**
- 提示"更新成功"
- 记录信息已更新
- 表单恢复为添加模式

#### P1 TC-029: 编辑时修改分类  ✅
**测试步骤：**
1. 编辑一条记录
2. 修改分类：从"前后端开发"改为"AI基础"
3. 提交

**预期结果：**
- 更新成功
- 分类已更新

#### P1 TC-030: 编辑时修改集数  ✅
**测试步骤：**
1. 编辑一条记录
2. 修改起始集数和结束集数
3. 提交

**预期结果：**
- 更新成功
- 集数已更新

#### P1 TC-031: 编辑时修改备注  ✅
**测试步骤：**
1. 编辑一条有备注的记录
2. 修改备注内容
3. 提交

**预期结果：**
- 更新成功
- 备注内容已更新

#### P2 TC-032: 编辑时清空备注  ✅
**测试步骤：**

1. 编辑一条有备注的记录
2. 删除备注内容
3. 提交

**预期结果：**
- 更新成功
- 备注字段为空或undefined

#### P2 TC-033: 编辑时取消操作  ✅
**测试步骤：**
1. 点击编辑按钮
2. 修改一些字段
3. 点击"取消"按钮

**预期结果：**
- 表单恢复为添加模式
- 记录未被修改

#### P1 TC-034: 编辑时集数验证  ✅
**测试步骤：**
1. 编辑一条记录
2. 将起始集数改为大于结束集数
3. 提交

**预期结果：**
- 提示"结束集数必须大于或等于起始集数"
- 更新失败

#### P1 TC-035: 编辑时时长验证  ✅
**测试步骤：**
1. 编辑一条记录
2. 将观看总时间改为0或负数
3. 提交

**预期结果：**
- 提示"观看总时间必须是大于0的数字"
- 更新失败

---

## 三、记录删除功能测试

### 3.1 删除操作

#### P0 TC-036: 正常删除记录  ✅
**前置条件：** 已有一条记录  
**测试步骤：**
1. 点击记录的删除按钮
2. 在确认对话框中点击"确定"

**预期结果：**
- 提示"删除成功"
- 记录从列表中消失

#### P1 TC-037: 删除时取消操作  ✅
**测试步骤：**
1. 点击记录的删除按钮
2. 在确认对话框中点击"取消"

**预期结果：**
- 记录未被删除
- 仍在列表中显示

#### P2 TC-038: 删除最后一条记录  ✅
**前置条件：** 只有一条记录  
**测试步骤：**
1. 删除该记录

**预期结果：**
- 删除成功
- 显示空状态提示

---

## 四、记录列表展示测试

### 4.1 列表显示

#### P0 TC-039: 空状态显示  ✅
**前置条件：** 没有任何记录  
**测试步骤：**
1. 进入学习记录页面

**预期结果：**
- 显示空状态提示："还没有学习记录"
- 显示提示文字："开始记录你的学习历程吧~"

#### P0 TC-040: 记录按月份分组显示  ✅
**测试步骤：**
1. 添加不同月份的记录（如：2025-01、2025-02、2025-03）
2. 查看列表

**预期结果：**
- 记录按月份分组显示
- 月份按时间倒序排列（最新的在前）

#### P1 TC-041: 月份统计信息显示  ✅
**测试步骤：**
1. 添加多条同月记录
2. 查看月份头部

**预期结果：**
- 显示该月总学习时长
- 显示该月看的最多的分类
- 显示记录数（如：5条）

#### P2 TC-042: 月份展开/收起功能  ✅
**测试步骤：**
1. 添加多个月份的记录
2. 点击月份头部

**预期结果：**
- 点击后展开/收起该月份下的所有记录
- 箭头图标相应变化

#### P1 TC-043: 观看时长格式化显示  ✅
**测试步骤：**

1. 添加观看时长为90分钟（1.5小时）的记录
2. 查看列表

**预期结果：**
- 显示为："1小时30分钟"

#### P2 TC-044: 观看时长格式化 - 只有小时  ✅
**测试步骤：**
1. 添加观看时长为120分钟（2小时）的记录
2. 查看列表

**预期结果：**
- 显示为："2小时"

#### P2 TC-045: 观看时长格式化 - 只有分钟  ✅
**测试步骤：**
1. 添加观看时长为30分钟的记录
2. 查看列表

**预期结果：**
- 显示为："30分钟"

#### P1 TC-046: 集数格式化显示  ✅
**测试步骤：**
1. 添加起始集数1、结束集数5的记录
2. 查看列表

**预期结果：**
- 显示为："第1-5集"

#### P2 TC-047: 单集格式化显示  ✅
**测试步骤：**
1. 添加起始集数5、结束集数5的记录
2. 查看列表

**预期结果：**
- 显示为："第5集"

#### P2 TC-048: 备注显示  ✅
**测试步骤：**
1. 添加有备注的记录
2. 查看列表

**预期结果：**
- 备注正常显示

#### P2 TC-049: 无备注记录显示  ✅
**测试步骤：**
1. 添加无备注的记录
2. 查看列表

**预期结果：**
- 备注区域不显示或显示为空

---

## 五、分类管理功能测试

### 5.1 分类添加

#### P1 TC-050: 添加新学习分类  ✅ 
**测试步骤：**
1. 点击分类管理按钮（⚙️）
2. 输入新分类名称：数据库
3. 点击添加按钮

**预期结果：**
- 提示"分类添加成功"
- 新分类出现在分类列表中
- 分类下拉框中包含新分类  ****

#### P1 TC-051: 分类名称长度限制  ✅
**测试步骤：**
1. 尝试添加6个字符的分类名称

**预期结果：**
- 输入框限制最多5个字符
- 或提示"分类名称不能超过5个字"

#### P1 TC-052: 添加空分类名称  ✅
**测试步骤：**
1. 输入框留空
2. 点击添加

**预期结果：**
- 提示"分类名称不能为空"

#### P1 TC-053: 添加重复分类  ✅
**测试步骤：**
1. 添加分类：前后端开发
2. 再次尝试添加：前后端开发

**预期结果：**
- 提示"分类名称已存在"
- 添加失败

#### P2 TC-054: 添加分类前后空格处理  ✅
**测试步骤：**
1. 输入："  数据库  "（前后有空格）
2. 点击添加

**预期结果：**
- 系统自动trim处理
- 添加为"数据库"

### 5.2 分类编辑

#### P1 TC-055: 编辑分类名称  ✅
**测试步骤：**
1. 打开分类管理
2. 点击某个分类的编辑按钮
3. 修改名称：从"前后端开发"改为"Web开发"
4. 点击保存

**预期结果：**

- 提示"分类更新成功"
- 分类名称已更新
- 使用该分类的所有记录的分类字段也更新  **编辑分类名称的时候，表头的分类项没有及时更新**

#### P1 TC-056: 编辑分类为空  ✅
**测试步骤：**
1. 编辑分类
2. 清空名称
3. 保存

**预期结果：**
- 提示"分类名称不能为空"
- 保存失败

#### P1 TC-057: 编辑分类为重复名称  ✅
**测试步骤：**
1. 编辑分类A
2. 改为已存在的分类B的名称
3. 保存

**预期结果：**
- 提示"分类名称已存在"
- 保存失败

#### P2 TC-058: 编辑分类取消操作   ✅
**测试步骤：**
1. 点击编辑
2. 修改名称
3. 点击取消（❌）

**预期结果：**
- 退出编辑模式
- 分类名称未改变

#### P2 TC-059: 编辑"其它"分类  ✅
**测试步骤：**
1. 尝试编辑"其它"分类

**预期结果：**
- "其它"分类不允许编辑
- 或编辑按钮被禁用

### 5.3 分类删除

#### P1 TC-060: 删除无记录的分类  ✅
**测试步骤：**

1. 添加一个新分类（无记录使用）
2. 删除该分类

**预期结果：**

- 提示确认对话框："确定要删除"XX"分类吗？"
- 确认后删除成功
- 分类从列表中消失

#### P1 TC-061: 删除有记录的分类  ✅
**测试步骤：**
1. 添加一个新分类
2. 使用该分类添加几条记录
3. 删除该分类

**预期结果：**
- 提示确认对话框："删除"XX"分类将把该分类下的所有学习记录转移到"其它"分类，确定要删除吗？"
- 确认后删除成功
- 该分类下的所有记录的分类字段变为"其它"
- **缺少一个没有记录时候的空白展示**

#### P1 TC-062: 删除"其它"分类  ✅
**测试步骤：**
1. 尝试删除"其它"分类

**预期结果：**
- 提示"不能删除"其它"分类"
- 删除失败

#### P2 TC-063: 删除分类取消操作  ✅
**测试步骤：**
1. 点击删除按钮
2. 在确认对话框中点击"取消"

**预期结果：**
- 分类未被删除

### 5.4 分类排序

#### P2 TC-064: 拖拽排序分类  ✅ 
**测试步骤：**
1. 打开分类管理
2. 拖拽一个分类到另一个位置
3. 释放鼠标

**预期结果：**
- 分类顺序改变
- 新顺序保存成功
- "其它"分类始终在最后  **拖拽的时候无法滚动**，**是否要加一个重置的功能**

#### P2 TC-065: 编辑时禁止拖拽  ✅
**测试步骤：**
1. 进入编辑模式
2. 尝试拖拽正在编辑的分类

**预期结果：**
- 拖拽被禁用
- 无法拖拽

---

## 六、筛选功能测试

### 6.1 分类筛选

#### P1 TC-066: 选择特定分类筛选  ✅
**测试步骤：**
1. 添加多条不同分类的记录
2. 在筛选器中选择"前后端开发"

**预期结果：**
- 列表只显示"前后端开发"分类的记录
- 其他分类的记录被隐藏

#### P2 TC-067: 选择"全部"分类  ✅
**测试步骤：**
1. 选择特定分类后
2. 选择"全部"

**预期结果：**
- 显示所有记录

### 6.2 标题搜索筛选

#### P1 TC-068: 标题关键词搜索  ✅
**测试步骤：**
1. 在标题搜索框输入关键词：React
2. 查看列表

**预期结果：**
- 只显示标题中包含"React"的记录

#### P2 TC-069: 标题搜索大小写不敏感  ✅
**测试步骤：**
1. 输入：REACT（大写）
2. 查看列表

**预期结果：**
- 能匹配到"react"或"React"的记录

#### P2 TC-070: 标题搜索部分匹配  ✅
**测试步骤：**
1. 输入关键词的一部分

**预期结果：**
- 能匹配到包含该部分的记录

#### P2 TC-071: 标题搜索清空  ✅
**测试步骤：**
1. 输入搜索关键词
2. 清空搜索框

**预期结果：**
- 搜索被清除
- 显示所有记录

#### P2 TC-072: 标题搜索无结果  ✅
**测试步骤：**
1. 输入不存在的关键词

**预期结果：**
- 列表为空
- 或显示"无匹配记录"

#### P1 TC-073: 标题组合筛选  ✅
**测试步骤：**
1. 选择特定分类
2. 输入标题关键词

**预期结果：**
- 显示同时满足两个条件的记录

#### P1 TC-074: 时长筛选  ✅
**测试步骤：**
1. 设置最小时长：2小时
2. 查看列表

**预期结果：**
- 只显示观看时长>=2小时的记录

#### P2 TC-075: 时长筛选边界值  ✅
**测试步骤：**

1. 设置最小时长等于某条记录的时长（小时数）
2. 查看列表

**预期结果：**
- 该记录被包含在结果中

#### P2 TC-076: 时长筛选清空  ✅
**测试步骤：**
1. 设置时长筛选
2. 清空时长输入框

**预期结果：**
- 筛选被清除
- 显示所有记录

#### P1 TC-077: 全条件组合筛选  ✅
**测试步骤：**
1. 选择分类
2. 输入标题关键词
3. 设置最小时长

**预期结果：**
- 显示同时满足所有条件的记录

---

## 七、数据导入导出功能测试

### 7.1 数据导出

#### P0 TC-078: 导出所有学习记录  ✅
**测试步骤：**
1. 添加多条学习记录
2. 点击导出按钮

**预期结果：**
- 下载JSON文件
- 文件名格式：study_records_YYYY-MM-DD.json
- 文件包含所有学习记录

#### P2 TC-079: 导出空数据  ✅
**测试步骤：**
1. 清空所有记录
2. 点击导出

**预期结果：**
- 导出成功
- 文件包含空的records数组

#### P2 TC-080: 导出文件格式验证  ✅
**测试步骤：**
1. 导出数据
2. 打开JSON文件检查格式

**预期结果：**
- 文件是有效的JSON格式
- 包含version、exportDate、recordCount、records等字段

### 7.2 数据导入

#### P0 TC-081: 导入完整数据  ✅
**前置条件：** 准备一个包含学习记录的JSON文件  
**测试步骤：**
1. 点击导入按钮
2. 选择JSON文件
3. 确认导入

**预期结果：**
- 提示导入成功
- 显示导入的记录数
- 记录出现在列表中

#### P1 TC-082: 导入包含缺失分类的数据  ✅
**前置条件：** JSON文件中包含系统中不存在的分类  
**测试步骤：**
1. 导入文件
2. 在提示对话框中确认创建分类

**预期结果：**
- 提示缺失的分类列表
- 确认后自动创建分类
- 记录导入成功

#### P2 TC-083: 导入包含缺失分类的数据（取消）
**测试步骤：**
1. 导入包含缺失分类的文件
2. 在提示对话框中点击"取消"

**预期结果：**
- 导入被取消
- 没有记录被导入

#### P2 TC-084: 导入重复记录  ✅
**前置条件：** JSON文件中包含已存在的记录（相同ID）  
**测试步骤：**
1. 导入文件

**预期结果：**
- 重复的记录被跳过
- 只导入新记录
- 提示跳过的记录数

#### P3 TC-085: 导入无效格式文件  ✅
**测试步骤：**
1. 选择一个非JSON格式的文件
2. 尝试导入

**预期结果：**
- 提示"请选择 JSON 格式的文件"
- 导入失败

#### P3 TC-086: 导入文件大小限制  ✅
**测试步骤：**
1. 选择一个超过10MB的文件
2. 尝试导入

**预期结果：**
- 提示"文件大小超过限制（最大 10MB）"
- 导入失败

#### P3 TC-087: 导入损坏的JSON文件  ✅
**测试步骤：**
1. 选择一个格式错误的JSON文件
2. 尝试导入

**预期结果：**
- 提示"解析文件失败"
- 导入失败

#### P2 TC-088: 导入缺少必填字段的记录  ✅
**前置条件：** JSON文件中包含缺少必填字段的记录  
**测试步骤：**
1. 导入文件

**预期结果：**
- 缺少必填字段的记录被跳过
- 其他有效记录正常导入

#### P1 TC-089: 导入后数据完整性验证  ✅
**测试步骤：**
1. 导出数据
2. 清空所有数据
3. 导入刚才导出的文件

**预期结果：**
- 所有数据恢复
- 记录数量一致
- 标题、分类、时长等信息一致

---

## 八、数据清空功能测试

### 8.1 清空操作

#### P1 TC-090: 清空所有学习数据  ✅
**前置条件：** 有多条学习记录  
**测试步骤：**
1. 点击清空数据按钮
2. 在确认对话框中确认

**预期结果：**
- 提示确认对话框，显示记录数
- 确认后所有记录被清空

#### P2 TC-091: 清空数据取消操作  ✅
**测试步骤：**
1. 点击清空按钮
2. 在确认对话框中点击"取消"

**预期结果：**
- 数据未被清空
- 记录仍然存在

#### P2 TC-092: 清空空数据  ✅
**测试步骤：**
1. 在没有任何记录时点击清空

**预期结果：**
- 提示已清空0条记录
- 或按钮被禁用

---

## 九、数据看板功能测试

### 9.1 统计卡片

#### P1 TC-093: 总学习时长统计  ✅
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示所有记录的总学习时长

#### P1 TC-094: 总观看集数统计
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示总观看集数（所有记录的集数总和）

#### P1 TC-095: 视频标题统计
**测试步骤：**
1. 添加多条不同视频标题的记录
2. 查看看板

**预期结果：**
- 显示每个视频标题的统计信息（总时长、总集数、记录数）

### 9.2 图表展示

#### P1 TC-096: 分类占比饼图显示  ✅
**测试步骤：**
1. 添加多条不同分类的记录
2. 查看饼图

**预期结果：**
- 饼图正常显示
- 各分类占比正确
- 颜色区分不同分类

#### P2 TC-097: 饼图空数据  ✅
**测试步骤：**
1. 没有任何记录时查看饼图

**预期结果：**

- 显示空状态或提示无数据   **账单面板和学习面板**

#### P1 TC-098: 学习时长趋势图显示  ✅
**测试步骤：**

1. 添加多天记录
2. 查看趋势图

**预期结果：**
- 趋势图正常显示
- 显示每天的学习时长

#### P2 TC-099: 趋势图数据不足  ✅
**测试步骤：**
1. 只添加最近3天的记录
2. 查看趋势图

**预期结果：**
- 显示有记录的天的数据
- 没有记录的天显示为0或隐藏

#### P2 TC-100: 月份切换查看图表  ✅
**测试步骤：**

1. 选择不同月份
2. 查看图表

**预期结果：**
- 图表数据更新为该月份的数据

---

## 十、边界条件和特殊场景测试

### 10.1 集数和时长边界

#### P2 TC-101: 集数计算 - 单集  ✅
**测试步骤：**
1. 添加起始集数5、结束集数5的记录
2. 查看统计

**预期结果：**
- 集数计算为1集（5-5+1=1）

#### P2 TC-102: 集数计算 - 多集   ✅
**测试步骤：**
1. 添加起始集数1、结束集数10的记录
2. 查看统计

**预期结果：**
- 集数计算为10集（10-1+1=10）

#### P2 TC-103: 观看时长累计统计   ✅
**测试步骤：**
1. 添加多条不同时长的记录
2. 查看总时长统计

**预期结果：**
- 总时长等于所有记录时长的总和

#### P2 TC-104: 视频标题统计 - 同一标题多条记录  ✅
**测试步骤：**

1. 添加多条相同视频标题的记录
2. 查看视频标题统计

**预期结果：**
- 该标题的总时长、总集数、记录数正确累计

#### P2 TC-105: 视频标题统计 - 不同标题   ✅
**测试步骤：**
1. 添加多条不同视频标题的记录
2. 查看视频标题统计

**预期结果：**
- 每个标题的统计信息独立计算

### 10.2 数据边界条件

#### P2 TC-106: 大量数据测试
**测试步骤：**
1. 导入或添加1000条记录
2. 测试各项功能

**预期结果：**
- 列表正常显示（可能需要分页或虚拟滚动）
- 筛选功能正常
- 图表正常显示
- 统计计算正确
- 性能可接受

#### P2 TC-107: 单条记录测试
**测试步骤：**
1. 只添加一条记录
2. 测试各项功能

**预期结果：**
- 所有功能正常
- 统计和图表正常显示

#### P2 TC-108: 同一天多条记录
**测试步骤：**
1. 在同一天添加多条记录
2. 查看列表和统计

**预期结果：**
- 记录正常显示
- 统计计算正确（累计）

#### P2 TC-109: 跨年数据测试
**测试步骤：**
1. 添加2024年和2025年的记录
2. 查看列表和统计

**预期结果：**
- 按年份正确分组
- 统计计算正确

#### P2 TC-110: 跨月数据测试
**测试步骤：**
1. 添加跨月的记录（如1月31日和2月1日）
2. 查看列表

**预期结果：**
- 按月份正确分组
- 月份切换正常

### 10.3 统计功能边界

#### P2 TC-111: 空数据统计
**测试步骤：**
1. 没有任何记录
2. 查看统计

**预期结果：**
- 总记录数：0
- 总时长：0
- 总集数：0
- 视频标题统计为空

#### P2 TC-112: 单条记录统计
**测试步骤：**
1. 只添加一条记录
2. 查看统计

**预期结果：**
- 统计值等于该条记录的值

#### P2 TC-113: 月度统计 - 空数据
**测试步骤：**
1. 选择没有记录的月份
2. 查看月度统计

**预期结果：**
- 总学习时长：0
- 总学习次数：0
- 分类统计为空

#### P2 TC-114: 月度统计 - 单条记录
**测试步骤：**
1. 在某月只添加一条记录
2. 查看月度统计

**预期结果：**
- 统计值等于该条记录的值

#### P2 TC-115: 分类占比计算
**测试步骤：**
1. 添加多条不同分类的记录
2. 查看分类占比饼图

**预期结果：**
- 各分类占比正确计算
- 占比总和为100%

#### P2 TC-116: 分类占比 - 单一分类
**测试步骤：**
1. 只添加一个分类的记录
2. 查看分类占比

**预期结果：**
- 该分类占比为100%

#### P2 TC-117: 最近7天趋势统计
**测试步骤：**
1. 添加最近7天的记录
2. 查看趋势图

**预期结果：**
- 显示最近7天的数据
- 没有记录的天数显示为0

#### P2 TC-118: 最近7天趋势 - 数据不足
**测试步骤：**
1. 只添加最近3天的记录
2. 查看趋势图

**预期结果：**
- 显示7天的数据
- 有记录的3天显示实际时长
- 其他4天显示为0

#### P2 TC-119: 学习最多的一天统计
**测试步骤：**
1. 添加多条不同日期的记录
2. 查看统计

**预期结果：**
- 正确识别学习时长最多的一天

### 10.4 输入验证边界

#### P2 TC-120: 集数输入小数
**测试步骤：**
1. 输入集数：1.5
2. 提交

**预期结果：**
- 系统自动处理为整数或提示错误

#### P2 TC-121: 时长输入小数
**测试步骤：**
1. 输入时长：120.5
2. 提交

**预期结果：**
- 根据系统规则决定是否允许
- 如果允许，正常保存

#### P2 TC-122: 备注超长
**测试步骤：**
1. 输入超长备注（如1000字符）
2. 提交

**预期结果：**
- 根据系统限制处理
- 或提示超出长度限制

#### P2 TC-123: 视频标题特殊字符
**测试步骤：**
1. 输入包含特殊字符的标题（如：!@#$%^&*()）
2. 提交

**预期结果：**
- 添加成功，特殊字符正常保存

### 10.5 存储和持久化

#### P0 TC-124: 刷新页面数据保持
**测试步骤：**
1. 添加几条记录
2. 刷新页面

**预期结果：**
- 数据仍然存在
- 记录正常显示

#### P2 TC-125: 浏览器存储空间不足
**测试步骤：**
1. 模拟localStorage空间不足的情况

**预期结果：**
- 提示存储失败
- 或优雅降级处理

#### P2 TC-126: 多标签页数据同步
**测试步骤：**
1. 打开两个标签页
2. 在一个标签页添加记录
3. 在另一个标签页查看

**预期结果：**
- 可能需要刷新才能看到新数据
- 或实现实时同步

### 10.6 异常处理

#### P2 TC-127: 并发操作测试
**测试步骤：**
1. 快速连续添加多条记录
2. 快速连续删除多条记录

**预期结果：**
- 所有操作都成功
- 数据一致性保持

#### P2 TC-128: 编辑时删除记录
**测试步骤：**
1. 编辑一条记录
2. 在另一个操作中删除该记录
3. 尝试保存编辑

**预期结果：**

- 提示记录不存在
- 或优雅处理

#### P2 TC-129: 导入时数据冲突
**测试步骤：**
1. 导入包含重复ID的文件
2. 查看结果

**预期结果：**
- 重复记录被跳过
- 新记录正常导入

#### P2 TC-130: 筛选无结果时的显示
**测试步骤：**
1. 设置筛选条件，使结果为空
2. 查看列表

**预期结果：**
- 显示空状态提示
- 或显示"无匹配记录"

#### P1 TC-131: 分类删除后记录处理
**测试步骤：**
1. 使用某个分类添加记录
2. 删除该分类
3. 查看记录

**预期结果：**
- 记录的分类字段变为"其它"

#### P1 TC-132: 分类重命名后记录处理
**测试步骤：**
1. 使用某个分类添加记录
2. 重命名该分类
3. 查看记录

**预期结果：**
- 记录的分类字段更新为新名称

---

## 十一、UI/UX测试

### 11.1 界面显示

#### P2 TC-133: 响应式布局
**测试步骤：**
1. 在不同屏幕尺寸下查看页面

**预期结果：**
- 布局自适应
- 内容正常显示
- 无横向滚动条

#### P2 TC-134: 表单验证提示
**测试步骤：**
1. 尝试提交无效表单

**预期结果：**

- 显示清晰的错误提示
- 指出具体问题

#### P2 TC-135: 操作反馈
**测试步骤：**

1. 执行各种操作（添加、编辑、删除等）

**预期结果：**
- 每个操作都有明确的成功/失败提示
- 使用toast或消息提示

#### P2 TC-136: 加载状态显示
**测试步骤：**

1. 执行耗时操作（如导入大量数据）

**预期结果：**
- 显示加载状态
- 按钮显示"导入中..."等状态

#### P2 TC-137: 空状态提示
**测试步骤：**
1. 查看空列表
2. 查看空筛选结果

**预期结果：**
- 显示友好的空状态提示
- 有引导性文字

#### P2 TC-138: 月份展开/收起动画
**测试步骤：**
1. 点击月份头部展开/收起

**预期结果：**
- 有平滑的展开/收起动画
- 箭头图标旋转动画

#### P2 TC-139: 图表交互
**测试步骤：**
1. 鼠标悬停在图表数据点上

**预期结果：**
- 显示tooltip
- 显示详细信息

#### P2 TC-140: 快捷键提示
**测试步骤：**
1. 查看表单区域

**预期结果：**
- 如有快捷键，应有提示说明

#### P2 TC-141: 分类管理弹窗
**测试步骤：**
1. 打开分类管理
2. 点击遮罩层

**预期结果：**
- 弹窗关闭

#### P2 TC-142: 分类管理拖拽视觉反馈
**测试步骤：**
1. 拖拽分类
2. 观察视觉效果

**预期结果：**
- 拖拽时有视觉反馈
- 被拖拽项有特殊样式

---

## 十二、性能测试

### 12.1 性能指标

#### P2 TC-143: 列表渲染性能
**测试步骤：**
1. 添加1000条记录
2. 测试列表滚动和筛选

**预期结果：**
- 列表流畅滚动
- 筛选响应迅速（<500ms）

#### P2 TC-144: 图表渲染性能
**测试步骤：**
1. 添加大量数据
2. 查看图表

**预期结果：**
- 图表渲染时间<2秒
- 交互流畅

#### P2 TC-145: 数据导入性能
**测试步骤：**
1. 导入1000条记录

**预期结果：**
- 导入时间<5秒
- 有进度提示

#### P2 TC-146: 统计计算性能
**测试步骤：**
1. 添加大量数据
2. 查看统计

**预期结果：**
- 统计计算时间<1秒
- 结果正确

#### P2 TC-147: 筛选性能
**测试步骤：**
1. 添加大量数据
2. 应用多个筛选条件

**预期结果：**
- 筛选响应时间<500ms
- 结果正确

#### P2 TC-148: 分类管理性能
**测试步骤：**
1. 添加大量分类
2. 测试分类管理功能

**预期结果：**
- 分类列表加载迅速
- 拖拽排序流畅

#### P2 TC-149: 月份切换性能
**测试步骤：**
1. 添加多个月份的数据
2. 快速切换月份

**预期结果：**
- 月份切换响应迅速
- 数据更新及时

#### P2 TC-150: 数据导出性能
**测试步骤：**
1. 添加大量数据
2. 执行导出操作

**预期结果：**
- 导出时间<3秒
- 文件生成成功

---

## 测试总结

### 测试覆盖范围（全部150个用例）
- ✅ 记录添加功能（27个用例）
- ✅ 记录编辑功能（8个用例）
- ✅ 记录删除功能（3个用例）
- ✅ 列表展示功能（10个用例）
- ✅ 分类管理功能（16个用例）
- ✅ 筛选功能（12个用例）
- ✅ 数据导入导出功能（12个用例）
- ✅ 数据清空功能（3个用例）
- ✅ 数据看板功能（8个用例）
- ✅ 边界条件和特殊场景（32个用例）
- ✅ UI/UX测试（10个用例）
- ✅ 性能测试（8个用例）

**总计：150个测试用例**

### 重点测试项
1. **集数验证**：起始集数、结束集数、起始不能大于结束、集数计算
2. **时长验证**：必须大于0、不能为负数、时长累计
3. **分类管理**：添加、编辑、删除、"其它"分类保护、记录迁移
4. **筛选功能**：多维度组合筛选
5. **数据完整性**：导入导出、数据一致性
6. **统计功能**：总时长、总集数、视频标题统计、分类占比、月度统计、趋势统计
7. **特殊场景**：大量数据、空数据、单条记录、跨年跨月

### 测试完成度
✅ **学习记录模块测试用例编写完成**

所有功能点、边界条件、异常情况和特殊场景均已覆盖。测试用例可用于全面测试学习记录模块的各项功能。

