# 日常记录模块测试用例

## 测试概述
本文档包含日常记录模块的测试用例，涵盖所有功能点和边界条件测试。

---

## 一、记录添加功能测试

### 1.1 基本添加功能

#### P0 TC-001: 正常添加日常记录
**前置条件：** 已进入日常记录页面  
**测试步骤：**
1. 选择日期：2025-01-15
2. 设置三餐状态：早餐规律、午餐规律、晚餐规律
3. 输入微信步数：8000
4. 点击"添加记录"

**预期结果：**
- 提示"添加成功"
- 记录出现在列表中
- 表单重置为默认值

#### P1 TC-002: 添加包含所有内务的记录
**测试步骤：**
1. 填写基本信息
2. 勾选所有内务项（早洗、晚洗、洗澡、洗头、洗脚、洗脸、洗衣、打扫）
3. 提交

**预期结果：**
- 添加成功
- 所有内务项正常保存和显示

#### P1 TC-003: 添加包含打卡时间的记录
**测试步骤：**
1. 填写基本信息
2. 设置签到时间：09:00
3. 设置签退时间：18:00
4. 设置离开时间：22:00
5. 提交

**预期结果：**
- 添加成功
- 打卡时间正常保存和显示

#### P1 TC-004: 添加包含备注的记录
**测试步骤：**
1. 填写基本信息
2. 输入备注：今天状态不错
3. 提交

**预期结果：**
- 添加成功
- 备注正常保存和显示

#### P2 TC-005: 添加最小化记录（只填必填项）
**测试步骤：**
1. 只填写日期和微信步数
2. 不填写其他可选项
3. 提交

**预期结果：**
- 添加成功
- 三餐默认为规律
- 其他字段为空或false

### 1.2 三餐状态测试

#### P1 TC-006: 三餐状态循环切换 - 早餐
**测试步骤：**
1. 点击早餐按钮
2. 观察状态变化

**预期结果：**
- 状态循环：规律 → 不规律 → 未吃 → 规律

#### P1 TC-007: 三餐状态循环切换 - 午餐
**测试步骤：**
1. 点击午餐按钮
2. 观察状态变化

**预期结果：**
- 状态循环：规律 → 不规律 → 未吃 → 规律

#### P1 TC-008: 三餐状态循环切换 - 晚餐
**测试步骤：**
1. 点击晚餐按钮
2. 观察状态变化

**预期结果：**
- 状态循环：规律 → 不规律 → 未吃 → 规律

#### P2 TC-009: 三餐全部未吃
**测试步骤：**
1. 将三餐都设置为"未吃"
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 三餐状态正确保存

#### P2 TC-010: 三餐全部不规律
**测试步骤：**
1. 将三餐都设置为"不规律"
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 三餐状态正确保存

#### P2 TC-011: 三餐混合状态
**测试步骤：**
1. 早餐：规律
2. 午餐：不规律
3. 晚餐：未吃
4. 填写其他必填项
5. 提交

**预期结果：**
- 添加成功
- 三餐状态分别正确保存

### 1.3 微信步数边界值测试

#### P2 TC-012: 步数最小值
**测试步骤：**
1. 输入步数：0
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功

#### P2 TC-013: 步数边界值 - 1999（红色）
**测试步骤：**
1. 输入步数：1999
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为红色等级

#### P2 TC-014: 步数边界值 - 2000（橙色）
**测试步骤：**
1. 输入步数：2000
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为橙色等级

#### P2 TC-015: 步数边界值 - 4999（橙色）
**测试步骤：**
1. 输入步数：4999
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为橙色等级

#### P1 TC-016: 步数边界值 - 5000（正常）
**测试步骤：**
1. 输入步数：5000
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为正常等级

#### P2 TC-017: 步数边界值 - 9999（正常）
**测试步骤：**
1. 输入步数：9999
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为正常等级

#### P1 TC-018: 步数边界值 - 10000（绿色）
**测试步骤：**
1. 输入步数：10000
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为绿色等级

#### P2 TC-019: 步数边界值 - 24999（绿色）
**测试步骤：**
1. 输入步数：24999
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为绿色等级

#### P1 TC-020: 步数边界值 - 25000（金色）
**测试步骤：**
1. 输入步数：25000
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为金色等级

#### P2 TC-021: 步数极大值
**测试步骤：**
1. 输入步数：99999
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功

#### P1 TC-022: 步数为空
**测试步骤：**
1. 不填写微信步数
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示必须填写微信步数
- 添加失败

#### P1 TC-023: 步数负数
**测试步骤：**
1. 输入步数：-1
2. 填写其他必填项
3. 提交

**预期结果：**
- 输入框限制或提示错误
- 添加失败

### 1.4 打卡时间测试

#### P2 TC-024: 只填写签到时间
**测试步骤：**
1. 设置签到时间：09:00
2. 不填写签退和离开时间
3. 填写其他必填项
4. 提交

**预期结果：**
- 添加成功
- 只保存签到时间

#### P2 TC-025: 只填写签退时间
**测试步骤：**
1. 设置签退时间：18:00
2. 不填写签到和离开时间
3. 填写其他必填项
4. 提交

**预期结果：**
- 添加成功
- 只保存签退时间

#### P2 TC-026: 只填写离开时间
**测试步骤：**
1. 设置离开时间：22:00
2. 不填写签到和签退时间
3. 填写其他必填项
4. 提交

**预期结果：**
- 添加成功
- 只保存离开时间

#### P1 TC-027: 填写完整打卡时间
**测试步骤：**
1. 设置签到：09:00
2. 设置签退：18:00
3. 设置离开：22:00
4. 填写其他必填项
5. 提交

**预期结果：**
- 添加成功
- 所有打卡时间正确保存

#### P1 TC-028: 打卡时间边界值 - 签到9:30（正常）
**测试步骤：**
1. 设置签到时间：09:30
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为正常打卡

#### P1 TC-029: 打卡时间边界值 - 签到9:31（不正常）
**测试步骤：**
1. 设置签到时间：09:31
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为不正常打卡

#### P1 TC-030: 打卡时间边界值 - 签退18:00（正常）
**测试步骤：**
1. 设置签退时间：18:00
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为正常签退

#### P1 TC-031: 打卡时间边界值 - 签退17:59（不正常）
**测试步骤：**
1. 设置签退时间：17:59
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为不正常签退

#### P1 TC-032: 打卡时间边界值 - 离开22:00（正常）
**测试步骤：**
1. 设置离开时间：22:00
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为正常离开

#### P1 TC-033: 打卡时间边界值 - 离开21:59（不正常）
**测试步骤：**
1. 设置离开时间：21:59
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功
- 显示为不正常离开

### 1.5 日期边界值测试

#### P2 TC-034: 日期边界值 - 最早日期
**测试步骤：**
1. 选择日期：2024-10-01（系统限制的最早日期）
2. 填写其他必填项
3. 提交

**预期结果：**
- 添加成功

#### P2 TC-035: 日期边界值 - 早于限制日期
**测试步骤：**
1. 尝试选择日期：2024-09-30
2. 填写其他必填项
3. 提交

**预期结果：**
- 日期选择器不允许选择该日期
- 或提示"日期必须从2024年10月开始"

#### P1 TC-036: 日期必填验证
**测试步骤：**
1. 不选择日期
2. 填写其他必填项
3. 提交

**预期结果：**
- 提示"请选择日期"
- 添加失败

### 1.6 快捷键和交互测试

#### P2 TC-037: 快捷键提交测试
**测试步骤：**
1. 填写完整的记录信息
2. 按 Ctrl + Enter

**预期结果：**
- 记录成功添加

#### P2 TC-038: 连续添加多条记录
**测试步骤：**
1. 添加一条记录
2. 不改变日期，修改其他信息
3. 再次添加记录
4. 重复3次

**预期结果：**
- 每次添加成功
- 日期保持不变，方便连续记录

---

## 二、记录编辑功能测试

### 2.1 基本编辑功能

#### P0 TC-039: 正常编辑日常记录
**前置条件：** 已有一条日常记录  
**测试步骤：**
1. 点击记录的编辑按钮
2. 修改早餐状态：从规律改为不规律
3. 修改步数：从8000改为10000
4. 点击"更新记录"

**预期结果：**
- 提示"更新成功"
- 记录信息已更新
- 表单恢复为添加模式

#### P1 TC-040: 编辑时修改三餐状态
**测试步骤：**
1. 编辑一条记录
2. 修改三餐状态
3. 提交

**预期结果：**
- 更新成功
- 三餐状态已更新

#### P1 TC-041: 编辑时修改内务项
**测试步骤：**
1. 编辑一条记录
2. 勾选/取消勾选内务项
3. 提交

**预期结果：**
- 更新成功
- 内务项已更新

#### P1 TC-042: 编辑时修改打卡时间
**测试步骤：**
1. 编辑一条记录
2. 修改打卡时间
3. 提交

**预期结果：**
- 更新成功
- 打卡时间已更新

#### P1 TC-043: 编辑时修改备注
**测试步骤：**
1. 编辑一条有备注的记录
2. 修改备注内容
3. 提交

**预期结果：**
- 更新成功
- 备注内容已更新

#### P2 TC-044: 编辑时清空备注
**测试步骤：**
1. 编辑一条有备注的记录
2. 删除备注内容
3. 提交

**预期结果：**
- 更新成功
- 备注字段为空或undefined

#### P2 TC-045: 编辑时取消操作
**测试步骤：**
1. 点击编辑按钮
2. 修改一些字段
3. 点击"取消"按钮

**预期结果：**
- 表单恢复为添加模式
- 记录未被修改

---

## 三、记录删除功能测试

### 3.1 删除操作

#### P0 TC-046: 正常删除记录
**前置条件：** 已有一条记录  
**测试步骤：**
1. 点击记录的删除按钮
2. 在确认对话框中点击"确定"

**预期结果：**
- 提示"删除成功"
- 记录从列表中消失

#### P1 TC-047: 删除时取消操作
**测试步骤：**
1. 点击记录的删除按钮
2. 在确认对话框中点击"取消"

**预期结果：**
- 记录未被删除
- 仍在列表中显示

#### P2 TC-048: 删除最后一条记录
**前置条件：** 只有一条记录  
**测试步骤：**
1. 删除该记录

**预期结果：**
- 删除成功
- 显示空状态提示

---

## 四、记录列表展示测试

### 4.1 列表显示

#### P0 TC-049: 空状态显示
**前置条件：** 没有任何记录  
**测试步骤：**
1. 进入日常记录页面

**预期结果：**
- 显示空状态提示："还没有日常记录"
- 显示提示文字："开始记录你的日常生活吧~"

#### P0 TC-050: 记录按月份分组显示
**测试步骤：**
1. 添加不同月份的记录（如：2025-01、2025-02、2025-03）
2. 查看列表

**预期结果：**
- 记录按月份分组显示
- 月份按时间倒序排列（最新的在前）

#### P1 TC-051: 月份统计信息显示
**测试步骤：**
1. 添加多条同月记录
2. 查看月份头部

**预期结果：**
- 显示该月早餐未吃次数
- 显示该月午餐不规律次数
- 显示该月平均步数
- 显示记录数（如：5条）

#### P2 TC-052: 月份展开/收起功能
**测试步骤：**
1. 添加多个月份的记录
2. 点击月份头部

**预期结果：**
- 点击后展开/收起该月份下的所有记录
- 箭头图标相应变化

#### P1 TC-053: 步数格式化显示
**测试步骤：**
1. 添加步数为8000的记录
2. 查看列表

**预期结果：**
- 显示为："8,000 步"（带千分位）

#### P1 TC-054: 步数颜色显示
**测试步骤：**
1. 添加不同步数的记录（1999、5000、10000、25000）
2. 查看列表

**预期结果：**
- 1999显示为红色
- 5000显示为正常色
- 10000显示为绿色
- 25000显示为金色

#### P2 TC-055: 三餐状态显示
**测试步骤：**
1. 添加三餐状态不同的记录
2. 查看列表

**预期结果：**
- 规律显示：✅ 规律
- 不规律显示：⚠️ 不规律
- 未吃显示：❌ 未吃

#### P2 TC-056: 内务标签显示
**测试步骤：**
1. 添加包含不同内务项的记录
2. 查看列表

**预期结果：**
- 已勾选的内务项显示对应标签
- 未勾选的不显示

#### P2 TC-057: 打卡时间显示
**测试步骤：**
1. 添加包含打卡时间的记录
2. 查看列表

**预期结果：**
- 打卡时间正常显示
- 不正常的时间有特殊标识

#### P2 TC-058: 备注显示
**测试步骤：**
1. 添加有备注的记录
2. 查看列表

**预期结果：**
- 备注正常显示

#### P2 TC-059: 无备注记录显示
**测试步骤：**
1. 添加无备注的记录
2. 查看列表

**预期结果：**
- 备注区域不显示或显示为空

---

## 五、筛选功能测试

### 5.1 三餐筛选

#### P1 TC-060: 三餐筛选 - 规律
**测试步骤：**
1. 添加多条记录，部分记录三餐都规律
2. 选择"规律"筛选

**预期结果：**
- 只显示三餐都规律的记录

#### P1 TC-061: 三餐筛选 - 不规律
**测试步骤：**
1. 添加多条记录
2. 选择"不规律"筛选

**预期结果：**
- 只显示三餐不都规律的记录（包括部分规律、部分不规律、部分未吃等）

#### P2 TC-062: 三餐筛选 - 边界情况（两规律一不规律）
**测试步骤：**
1. 添加记录：早餐规律、午餐规律、晚餐不规律
2. 选择"规律"筛选

**预期结果：**
- 该记录不显示（因为不满足"三个都规律"）

#### P2 TC-063: 三餐筛选 - 边界情况（两规律一未吃）
**测试步骤：**
1. 添加记录：早餐规律、午餐规律、晚餐未吃
2. 选择"规律"筛选

**预期结果：**
- 该记录不显示

### 5.2 打卡筛选

#### P1 TC-064: 打卡筛选 - 正常
**测试步骤：**
1. 添加多条记录，部分记录打卡时间正常
2. 选择"正常"筛选

**预期结果：**
- 只显示打卡正常的记录（签到≤9:30、签退≥18:00、离开≥22:00）

#### P1 TC-065: 打卡筛选 - 不正常
**测试步骤：**
1. 添加多条记录
2. 选择"不正常"筛选

**预期结果：**
- 只显示打卡不正常的记录

#### P2 TC-066: 打卡筛选 - 无打卡记录
**测试步骤：**
1. 添加没有打卡时间的记录
2. 选择"正常"筛选

**预期结果：**
- 该记录显示（没填算正常）

#### P2 TC-067: 打卡筛选 - 部分打卡时间
**测试步骤：**
1. 添加只有签到时间的记录（09:00）
2. 选择"正常"筛选

**预期结果：**
- 该记录显示（签到时间正常）

#### P2 TC-068: 打卡筛选 - 签到不正常
**测试步骤：**
1. 添加签到时间为10:00的记录
2. 选择"正常"筛选

**预期结果：**
- 该记录不显示

#### P2 TC-069: 打卡筛选 - 签退不正常
**测试步骤：**
1. 添加签退时间为17:00的记录
2. 选择"正常"筛选

**预期结果：**
- 该记录不显示

#### P2 TC-070: 打卡筛选 - 离开不正常
**测试步骤：**
1. 添加离开时间为21:00的记录
2. 选择"正常"筛选

**预期结果：**
- 该记录不显示

### 5.3 内务筛选

#### P1 TC-071: 内务筛选 - 洗漱
**测试步骤：**
1. 选择"洗漱"筛选
2. 查看列表

**预期结果：**
- 只显示有早洗或晚洗的记录

#### P1 TC-072: 内务筛选 - 洗浴
**测试步骤：**
1. 选择"洗浴"筛选
2. 查看列表

**预期结果：**
- 只显示有洗澡、洗头、洗脚或洗脸的记录

#### P1 TC-073: 内务筛选 - 家务
**测试步骤：**
1. 选择"家务"筛选
2. 查看列表

**预期结果：**
- 只显示有洗衣或打扫的记录

#### P2 TC-074: 内务筛选 - 边界情况（只有早洗）
**测试步骤：**
1. 添加只有早洗的记录
2. 选择"洗漱"筛选

**预期结果：**
- 该记录显示

#### P2 TC-075: 内务筛选 - 边界情况（只有晚洗）
**测试步骤：**
1. 添加只有晚洗的记录
2. 选择"洗漱"筛选

**预期结果：**
- 该记录显示

### 5.4 步数等级筛选

#### P1 TC-076: 步数等级筛选 - 金色
**测试步骤：**
1. 选择"超常 ≥25000"筛选
2. 查看列表

**预期结果：**
- 只显示步数≥25000的记录

#### P1 TC-077: 步数等级筛选 - 绿色
**测试步骤：**
1. 选择"健康 ≥10000"筛选
2. 查看列表

**预期结果：**
- 只显示步数在10000-24999之间的记录

#### P1 TC-078: 步数等级筛选 - 正常
**测试步骤：**
1. 选择"正常 ≥5000"筛选
2. 查看列表

**预期结果：**
- 只显示步数在5000-9999之间的记录

#### P1 TC-079: 步数等级筛选 - 橙色
**测试步骤：**
1. 选择"一般 ≥2000"筛选
2. 查看列表

**预期结果：**
- 只显示步数在2000-4999之间的记录

#### P1 TC-080: 步数等级筛选 - 红色
**测试步骤：**
1. 选择"过少 <2000"筛选
2. 查看列表

**预期结果：**
- 只显示步数<2000的记录

#### P2 TC-081: 步数等级筛选 - 无步数记录
**测试步骤：**
1. 添加步数为undefined的记录
2. 选择任意步数等级（非"全部"）

**预期结果：**
- 该记录不显示

### 5.5 备注搜索筛选

#### P1 TC-082: 备注关键词搜索
**测试步骤：**
1. 在备注搜索框输入关键词：不错
2. 查看列表

**预期结果：**
- 只显示备注中包含"不错"的记录

#### P2 TC-083: 备注搜索大小写不敏感
**测试步骤：**
1. 输入：GOOD（大写）
2. 查看列表

**预期结果：**
- 能匹配到"good"或"Good"的记录

#### P2 TC-084: 备注搜索清空
**测试步骤：**
1. 输入搜索关键词
2. 清空搜索框

**预期结果：**
- 搜索被清除
- 显示所有记录

### 5.6 组合筛选

#### P1 TC-085: 三餐+步数组合筛选
**测试步骤：**
1. 选择"规律"三餐筛选
2. 选择"健康 ≥10000"步数筛选
3. 查看列表

**预期结果：**
- 显示同时满足两个条件的记录

#### P1 TC-086: 打卡+内务组合筛选
**测试步骤：**
1. 选择"正常"打卡筛选
2. 选择"洗漱"内务筛选
3. 查看列表

**预期结果：**
- 显示同时满足两个条件的记录

#### P1 TC-087: 全条件组合筛选
**测试步骤：**
1. 选择三餐筛选
2. 选择打卡筛选
3. 选择内务筛选
4. 选择步数等级筛选
5. 输入备注关键词

**预期结果：**
- 显示同时满足所有条件的记录

---

## 六、数据导入导出功能测试

### 6.1 数据导出

#### P0 TC-088: 导出所有日常记录
**测试步骤：**
1. 添加多条日常记录
2. 点击导出按钮

**预期结果：**
- 下载JSON文件
- 文件名格式：daily-records-export-YYYY-MM-DD.json
- 文件包含所有日常记录

#### P2 TC-089: 导出空数据
**测试步骤：**
1. 清空所有记录
2. 点击导出

**预期结果：**
- 导出成功
- 文件包含空的dailyRecords数组

#### P2 TC-090: 导出文件格式验证
**测试步骤：**
1. 导出数据
2. 打开JSON文件检查格式

**预期结果：**
- 文件是有效的JSON格式
- 包含version、exportDate、dailyRecords、totalRecords等字段

### 6.2 数据导入

#### P0 TC-091: 导入完整数据
**前置条件：** 准备一个包含日常记录的JSON文件  
**测试步骤：**
1. 点击导入按钮
2. 选择JSON文件
3. 确认导入

**预期结果：**
- 提示导入成功
- 显示导入的记录数
- 记录出现在列表中

#### P2 TC-092: 导入重复记录
**前置条件：** JSON文件中包含已存在的记录（相同ID）  
**测试步骤：**
1. 导入文件

**预期结果：**
- 重复的记录被跳过
- 只导入新记录
- 提示跳过的记录数

#### P3 TC-093: 导入无效格式文件
**测试步骤：**
1. 选择一个非JSON格式的文件
2. 尝试导入

**预期结果：**
- 提示"请选择JSON格式的文件"
- 导入失败

#### P3 TC-094: 导入文件大小限制
**测试步骤：**
1. 选择一个超过10MB的文件
2. 尝试导入

**预期结果：**
- 提示"文件大小不能超过10MB"
- 导入失败

#### P2 TC-095: 导入缺少必填字段的记录
**前置条件：** JSON文件中包含缺少id或date的记录  
**测试步骤：**
1. 导入文件

**预期结果：**
- 缺少必填字段的记录被跳过
- 其他有效记录正常导入

#### P1 TC-096: 导入后数据完整性验证
**测试步骤：**
1. 导出数据
2. 清空所有数据
3. 导入刚才导出的文件

**预期结果：**
- 所有数据恢复
- 记录数量一致
- 三餐、内务、步数、打卡等信息一致

---

## 七、数据清空功能测试

### 7.1 清空操作

#### P1 TC-097: 清空所有日常数据
**前置条件：** 有多条日常记录  
**测试步骤：**
1. 点击清空数据按钮
2. 在确认对话框中确认

**预期结果：**
- 提示确认对话框，显示记录数
- 确认后所有记录被清空

#### P2 TC-098: 清空数据取消操作
**测试步骤：**
1. 点击清空按钮
2. 在确认对话框中点击"取消"

**预期结果：**
- 数据未被清空
- 记录仍然存在

#### P2 TC-099: 清空空数据
**测试步骤：**
1. 在没有任何记录时点击清空

**预期结果：**
- 提示已清空0条记录
- 或按钮被禁用

---

## 八、数据看板功能测试

### 8.1 统计卡片

#### P1 TC-100: 规律饮食比例统计
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示规律饮食比例（规律餐数/总餐数）

#### P1 TC-101: 平均步数统计
**测试步骤：**
1. 添加多条不同步数的记录
2. 查看看板

**预期结果：**
- 显示平均步数（只计算有步数的记录）

#### P1 TC-102: 平均工作时长统计
**测试步骤：**
1. 添加多条有打卡时间的记录
2. 查看看板

**预期结果：**
- 显示平均工作时长（签到到签退的平均时长）

#### P1 TC-103: 平均在公司时长统计
**测试步骤：**
1. 添加多条有签到和离开时间的记录
2. 查看看板

**预期结果：**
- 显示平均在公司时长（签到到离开的平均时长）

#### P1 TC-104: 签到合格率统计
**测试步骤：**
1. 添加多条有完整打卡的记录
2. 查看看板

**预期结果：**
- 显示签到合格率（签到≤9:30的记录占比）

#### P2 TC-105: 签退合格率统计
**测试步骤：**
1. 添加多条有完整打卡的记录
2. 查看看板

**预期结果：**
- 显示签退合格率（签退≥18:00的记录占比）

#### P2 TC-106: 离开合格率统计
**测试步骤：**
1. 添加多条有完整打卡的记录
2. 查看看板

**预期结果：**
- 显示离开合格率（离开≥22:00的记录占比）

#### P2 TC-107: 每日内务完成率统计
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示每日内务完成率（早洗+晚洗+洗脸+洗脚都完成的记录占比）

#### P2 TC-108: 洗头完成率统计
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示洗头完成率（实际洗头次数/期望次数，期望为2天1次）

#### P2 TC-109: 洗澡完成率统计
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示洗澡完成率（实际洗澡次数/期望次数，期望为7天1次）

#### P2 TC-110: 洗衣完成率统计
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示洗衣完成率（实际洗衣次数/期望次数，期望为3天1次）

#### P2 TC-111: 打扫完成率统计
**测试步骤：**
1. 添加多条记录
2. 查看看板

**预期结果：**
- 显示打扫完成率（实际打扫次数/期望次数，期望为7天1次）

#### P2 TC-112: 空数据统计
**测试步骤：**
1. 没有任何记录
2. 查看看板

**预期结果：**
- 所有统计值显示为0或0%

### 8.2 图表展示

#### P1 TC-113: 三餐规律性图表显示
**测试步骤：**
1. 添加多条记录
2. 查看三餐规律性图表

**预期结果：**
- 图表正常显示
- 显示早餐、午餐、晚餐的规律/不规律/未吃统计

#### P2 TC-114: 三餐规律性图表空数据
**测试步骤：**
1. 没有任何记录时查看图表

**预期结果：**
- 显示空状态或提示无数据

#### P1 TC-115: 生活习惯统计图表显示
**测试步骤：**
1. 添加多条记录
2. 查看生活习惯统计图表

**预期结果：**
- 图表正常显示
- 显示各项内务的完成率

#### P1 TC-116: 考勤合格率图表显示
**测试步骤：**
1. 添加多条有完整打卡的记录
2. 查看考勤合格率图表

**预期结果：**
- 图表正常显示
- 显示签到、签退、离开的合格率

#### P1 TC-117: 步数趋势图显示
**测试步骤：**
1. 添加多天记录
2. 查看步数趋势图

**预期结果：**
- 图表正常显示
- 显示每天的步数趋势

#### P1 TC-118: 工作时长分析图表显示
**测试步骤：**
1. 添加多条有打卡时间的记录
2. 查看工作时长分析图表

**预期结果：**
- 图表正常显示
- 显示工作时长、在公司时长、学习时长等

#### P2 TC-119: 月份切换查看图表
**测试步骤：**
1. 选择不同月份
2. 查看图表

**预期结果：**
- 图表数据更新为该月份的数据

---

## 九、边界条件和特殊场景测试

### 9.1 统计功能边界

#### P2 TC-120: 单条记录统计
**测试步骤：**
1. 只添加一条记录
2. 查看统计

**预期结果：**
- 所有统计值等于该条记录的值或基于该记录计算

#### P1 TC-121: 工作时长计算 - 正常情况
**测试步骤：**
1. 添加签到09:00、签退18:00的记录
2. 查看工作时长

**预期结果：**
- 工作时长计算为9小时

#### P2 TC-122: 工作时长计算 - 跨天情况
**测试步骤：**
1. 添加签到23:00、签退01:00的记录（次日）
2. 查看工作时长

**预期结果：**
- 系统正确处理或提示时间不合理

#### P1 TC-123: 在公司时长计算
**测试步骤：**
1. 添加签到09:00、离开22:00的记录
2. 查看在公司时长

**预期结果：**
- 在公司时长计算为13小时

#### P1 TC-124: 学习时长计算
**测试步骤：**
1. 添加签到09:00、签退18:00、离开22:00的记录
2. 查看学习时长

**预期结果：**
- 学习时长计算为4小时（在公司时长13h - 工作时长9h）

#### P2 TC-125: 学习时长计算 - 只有签退和离开
**测试步骤：**
1. 添加签退18:00、离开22:00的记录（无签到）
2. 查看学习时长

**预期结果：**
- 学习时长计算为4小时（离开时间 - 签退时间）

#### P2 TC-126: 打卡合格率 - 无完整打卡记录
**测试步骤：**
1. 添加多条记录，但都没有完整的打卡（签到、签退、离开）
2. 查看打卡合格率

**预期结果：**
- 合格率显示为0%（因为没有完整打卡记录）

#### P2 TC-127: 打卡合格率 - 部分打卡记录
**测试步骤：**
1. 添加多条记录，部分有完整打卡，部分只有签到
2. 查看打卡合格率

**预期结果：**
- 只计算有完整打卡的记录

#### P2 TC-128: 内务完成率边界 - 100%
**测试步骤：**
1. 添加多条记录，所有记录都完成每日内务
2. 查看完成率

**预期结果：**
- 完成率为100%

#### P2 TC-129: 内务完成率边界 - 0%
**测试步骤：**
1. 添加多条记录，所有记录都未完成每日内务
2. 查看完成率

**预期结果：**
- 完成率为0%

#### P2 TC-130: 洗头完成率计算
**测试步骤：**
1. 添加30条记录
2. 查看洗头完成率

**预期结果：**
- 期望次数为15次（30/2）
- 完成率 = 实际洗头次数 / 15 * 100%

#### P2 TC-131: 洗澡完成率计算
**测试步骤：**
1. 添加30条记录
2. 查看洗澡完成率

**预期结果：**
- 期望次数为5次（30/7，向上取整）
- 完成率 = 实际洗澡次数 / 5 * 100%

### 9.2 数据边界条件

#### P2 TC-132: 大量数据测试
**测试步骤：**
1. 导入或添加1000条记录
2. 测试各项功能

**预期结果：**
- 列表正常显示
- 筛选功能正常
- 图表正常显示
- 统计计算正确
- 性能可接受

#### P2 TC-133: 同一天多条记录
**测试步骤：**
1. 在同一天添加多条记录
2. 查看列表和统计

**预期结果：**
- 根据业务逻辑决定是否允许
- 或只保留最后一条

#### P2 TC-134: 跨年数据测试
**测试步骤：**
1. 添加2024年和2025年的记录
2. 查看列表和统计

**预期结果：**
- 按年份正确分组
- 统计计算正确

#### P2 TC-135: 跨月数据测试
**测试步骤：**
1. 添加跨月的记录（如1月31日和2月1日）
2. 查看列表

**预期结果：**
- 按月份正确分组
- 月份切换正常

### 9.3 输入验证边界

#### P2 TC-136: 步数输入小数
**测试步骤：**
1. 输入步数：8000.5
2. 提交

**预期结果：**
- 系统自动处理为整数或提示错误

#### P2 TC-137: 备注超长
**测试步骤：**
1. 输入超长备注（如1000字符）
2. 提交

**预期结果：**
- 根据系统限制处理
- 或提示超出长度限制

#### P2 TC-138: 打卡时间格式异常
**测试步骤：**
1. 尝试输入非法时间格式

**预期结果：**
- 时间选择器限制输入
- 或提示时间格式错误

### 9.4 存储和持久化

#### P0 TC-139: 刷新页面数据保持
**测试步骤：**
1. 添加几条记录
2. 刷新页面

**预期结果：**
- 数据仍然存在
- 记录正常显示

#### P2 TC-140: 浏览器存储空间不足
**测试步骤：**
1. 模拟localStorage空间不足的情况

**预期结果：**
- 提示存储失败
- 或优雅降级处理

### 9.5 异常处理

#### P2 TC-141: 并发操作测试
**测试步骤：**
1. 快速连续添加多条记录
2. 快速连续删除多条记录

**预期结果：**
- 所有操作都成功
- 数据一致性保持

#### P2 TC-142: 编辑时删除记录
**测试步骤：**
1. 编辑一条记录
2. 在另一个操作中删除该记录
3. 尝试保存编辑

**预期结果：**
- 提示记录不存在
- 或优雅处理

#### P2 TC-143: 筛选无结果时的显示
**测试步骤：**
1. 设置筛选条件，使结果为空
2. 查看列表

**预期结果：**
- 显示空状态提示
- 或显示"无匹配记录"

#### P2 TC-144: 工作时长负数处理
**测试步骤：**
1. 添加签退时间早于签到时间的记录
2. 查看工作时长

**预期结果：**
- 系统正确处理或提示时间不合理

#### P2 TC-145: 学习时长负数处理
**测试步骤：**
1. 添加工作时长大于在公司时长的记录
2. 查看学习时长

**预期结果：**
- 学习时长显示为0（取最大值0）

---

## 十、UI/UX测试

### 10.1 界面显示

#### P2 TC-146: 响应式布局
**测试步骤：**
1. 在不同屏幕尺寸下查看页面

**预期结果：**
- 布局自适应
- 内容正常显示
- 无横向滚动条

#### P2 TC-147: 表单验证提示
**测试步骤：**
1. 尝试提交无效表单

**预期结果：**
- 显示清晰的错误提示
- 指出具体问题

#### P2 TC-148: 操作反馈
**测试步骤：**
1. 执行各种操作（添加、编辑、删除等）

**预期结果：**
- 每个操作都有明确的成功/失败提示
- 使用toast或消息提示

#### P2 TC-149: 加载状态显示
**测试步骤：**
1. 执行耗时操作（如导入大量数据）

**预期结果：**
- 显示加载状态
- 按钮显示"导入中..."等状态

#### P2 TC-150: 空状态提示
**测试步骤：**
1. 查看空列表
2. 查看空筛选结果

**预期结果：**
- 显示友好的空状态提示
- 有引导性文字

---

---

## 十一、统计计算深度测试

### 11.1 工作时长计算边界

#### P2 TC-151: 工作时长精确计算 - 9小时整
**测试步骤：**
1. 添加签到09:00、签退18:00的记录
2. 查看工作时长

**预期结果：**
- 工作时长显示为9.0小时

#### P2 TC-152: 工作时长精确计算 - 8.5小时
**测试步骤：**
1. 添加签到09:00、签退17:30的记录
2. 查看工作时长

**预期结果：**
- 工作时长显示为8.5小时（精确到0.1小时）

#### P2 TC-153: 工作时长精确计算 - 9.2小时
**测试步骤：**
1. 添加签到09:00、签退18:12的记录
2. 查看工作时长

**预期结果：**
- 工作时长显示为9.2小时（18:12 - 09:00 = 9小时12分钟 = 9.2小时）

#### P2 TC-154: 工作时长 - 只有签到无签退
**测试步骤：**
1. 添加只有签到09:00的记录
2. 查看工作时长

**预期结果：**
- 工作时长显示为0小时
- 不计入平均工作时长统计

#### P2 TC-155: 工作时长 - 只有签退无签到
**测试步骤：**
1. 添加只有签退18:00的记录
2. 查看工作时长

**预期结果：**
- 工作时长显示为0小时
- 不计入平均工作时长统计

#### P2 TC-156: 工作时长 - 签退早于签到（异常情况）
**测试步骤：**
1. 添加签到18:00、签退09:00的记录
2. 查看工作时长

**预期结果：**
- 工作时长为负数或0
- 系统正确处理异常情况

### 11.2 在公司时长计算边界

#### P2 TC-157: 在公司时长精确计算 - 13小时整
**测试步骤：**
1. 添加签到09:00、离开22:00的记录
2. 查看在公司时长

**预期结果：**
- 在公司时长显示为13.0小时

#### P2 TC-158: 在公司时长精确计算 - 12.5小时
**测试步骤：**
1. 添加签到09:00、离开21:30的记录
2. 查看在公司时长

**预期结果：**
- 在公司时长显示为12.5小时

#### P2 TC-159: 在公司时长 - 只有签到无离开
**测试步骤：**
1. 添加只有签到09:00的记录
2. 查看在公司时长

**预期结果：**
- 在公司时长显示为0小时
- 不计入平均在公司时长统计

#### P2 TC-160: 在公司时长 - 只有离开无签到
**测试步骤：**
1. 添加只有离开22:00的记录
2. 查看在公司时长

**预期结果：**
- 在公司时长显示为0小时
- 不计入平均在公司时长统计

### 11.3 学习时长计算边界

#### P2 TC-161: 学习时长计算 - 完整打卡情况
**测试步骤：**
1. 添加签到09:00、签退18:00、离开22:00的记录
2. 查看学习时长

**预期结果：**
- 学习时长 = 在公司时长(13h) - 工作时长(9h) = 4.0小时

#### P2 TC-162: 学习时长计算 - 只有签退和离开
**测试步骤：**
1. 添加签退18:00、离开22:00的记录（无签到）
2. 查看学习时长

**预期结果：**
- 学习时长 = 离开时间(22:00) - 签退时间(18:00) = 4.0小时

#### P2 TC-163: 学习时长计算 - 工作时长大于在公司时长
**测试步骤：**
1. 添加签到09:00、签退20:00、离开18:00的记录（异常）
2. 查看学习时长

**预期结果：**
- 学习时长显示为0（取最大值0，因为不能为负）

#### P2 TC-164: 学习时长计算 - 跨天情况（签退到离开）
**测试步骤：**
1. 添加签退23:00、离开01:00的记录（次日）
2. 查看学习时长

**预期结果：**
- 系统正确处理跨天情况
- 学习时长计算为2小时（01:00 + 24:00 - 23:00）

#### P2 TC-165: 学习时长计算 - 只有签到和离开
**测试步骤：**
1. 添加签到09:00、离开22:00的记录（无签退）
2. 查看学习时长

**预期结果：**
- 学习时长显示为0（因为无法计算工作时长）

### 11.4 打卡合格率计算边界

#### P2 TC-166: 打卡合格率 - 全部合格
**测试步骤：**
1. 添加10条记录，所有记录的签到≤9:30、签退≥18:00、离开≥22:00
2. 查看打卡合格率

**预期结果：**
- 签到合格率：100%
- 签退合格率：100%
- 离开合格率：100%

#### P2 TC-167: 打卡合格率 - 全部不合格
**测试步骤：**
1. 添加10条记录，所有记录的签到>9:30、签退<18:00、离开<22:00
2. 查看打卡合格率

**预期结果：**
- 签到合格率：0%
- 签退合格率：0%
- 离开合格率：0%

#### P2 TC-168: 打卡合格率 - 部分合格
**测试步骤：**
1. 添加10条记录，5条合格，5条不合格
2. 查看打卡合格率

**预期结果：**
- 各项合格率均为50%

#### P2 TC-169: 打卡合格率 - 只有签到合格
**测试步骤：**
1. 添加记录：签到09:00（合格）、签退17:00（不合格）、离开21:00（不合格）
2. 查看打卡合格率

**预期结果：**
- 签到合格率：100%
- 签退合格率：0%
- 离开合格率：0%

#### P2 TC-170: 打卡合格率 - 边界值9:30:00
**测试步骤：**
1. 添加签到时间恰好为09:30:00的记录
2. 查看打卡合格率

**预期结果：**
- 签到合格率：100%（9:30算合格）

#### P2 TC-171: 打卡合格率 - 边界值9:30:01
**测试步骤：**
1. 添加签到时间为09:30:01的记录
2. 查看打卡合格率

**预期结果：**
- 签到合格率：0%（9:30:01算不合格）

### 11.5 内务完成率计算边界

#### P2 TC-172: 每日内务完成率 - 全部完成
**测试步骤：**
1. 添加10条记录，所有记录都完成早洗+晚洗+洗脸+洗脚
2. 查看每日内务完成率

**预期结果：**
- 完成率为100%

#### P2 TC-173: 每日内务完成率 - 部分完成
**测试步骤：**
1. 添加10条记录，5条完成每日内务，5条未完成
2. 查看每日内务完成率

**预期结果：**
- 完成率为50%

#### P2 TC-174: 每日内务完成率 - 只完成3项
**测试步骤：**
1. 添加记录：早洗+晚洗+洗脸（缺少洗脚）
2. 查看每日内务完成率

**预期结果：**
- 该记录不计入完成率（必须4项都完成）

#### P2 TC-175: 洗头完成率计算 - 30天记录
**测试步骤：**
1. 添加30条记录
2. 查看洗头完成率

**预期结果：**
- 期望次数：15次（30/2）
- 完成率 = 实际洗头次数 / 15 * 100%

#### P2 TC-176: 洗头完成率计算 - 31天记录
**测试步骤：**
1. 添加31条记录
2. 查看洗头完成率

**预期结果：**
- 期望次数：16次（31/2，向上取整）

#### P2 TC-177: 洗澡完成率计算 - 7天记录
**测试步骤：**
1. 添加7条记录
2. 查看洗澡完成率

**预期结果：**
- 期望次数：1次（7/7，向上取整）

#### P2 TC-178: 洗澡完成率计算 - 14天记录
**测试步骤：**
1. 添加14条记录
2. 查看洗澡完成率

**预期结果：**
- 期望次数：2次（14/7）

#### P2 TC-179: 洗衣完成率计算 - 3天记录
**测试步骤：**
1. 添加3条记录
2. 查看洗衣完成率

**预期结果：**
- 期望次数：1次（3/3，向上取整）

#### P2 TC-180: 打扫完成率计算 - 空数据
**测试步骤：**
1. 没有任何记录
2. 查看打扫完成率

**预期结果：**
- 完成率显示为0%

---

## 十二、表单交互细节测试

### 12.1 输入框交互

#### P2 TC-181: 步数输入框 - 输入非数字字符
**测试步骤：**
1. 在步数输入框输入：abc
2. 尝试提交

**预期结果：**
- 输入框限制只能输入数字
- 或提示"请输入有效数字"

#### P2 TC-182: 步数输入框 - 输入空格
**测试步骤：**
1. 在步数输入框输入空格
2. 尝试提交

**预期结果：**
- 空格被自动清除或提示必填

#### P2 TC-183: 步数输入框 - 输入前导零
**测试步骤：**
1. 输入步数：0008000
2. 提交

**预期结果：**
- 系统自动处理为8000
- 或保持原样显示

#### P2 TC-184: 备注输入框 - 换行符处理
**测试步骤：**
1. 在备注中输入多行文本（包含换行）
2. 提交并查看列表

**预期结果：**
- 换行符正常保存和显示

#### P2 TC-185: 备注输入框 - 特殊字符处理
**测试步骤：**
1. 在备注中输入特殊字符：<>&"'
2. 提交并查看列表

**预期结果：**
- 特殊字符正常保存和显示
- 不会被转义或丢失

### 12.2 日期时间选择器

#### P2 TC-186: 日期选择器 - 选择今天
**测试步骤：**
1. 打开日期选择器
2. 选择今天的日期

**预期结果：**
- 日期正确设置为今天

#### P2 TC-187: 日期选择器 - 选择未来日期
**测试步骤：**
1. 打开日期选择器
2. 尝试选择未来日期（如明天）

**预期结果：**
- 根据业务逻辑决定是否允许
- 或限制只能选择今天及之前的日期

#### P2 TC-188: 时间选择器 - 选择整点时间
**测试步骤：**
1. 选择签到时间：09:00
2. 查看显示

**预期结果：**
- 时间正确显示为09:00

#### P2 TC-189: 时间选择器 - 选择非整点时间
**测试步骤：**
1. 选择签到时间：09:15
2. 查看显示

**预期结果：**
- 时间正确显示为09:15

#### P2 TC-190: 时间选择器 - 清空时间
**测试步骤：**
1. 选择一个时间
2. 清空时间选择器

**预期结果：**
- 时间字段被清空
- 可以正常提交（时间非必填）

---

## 十三、数据一致性和持久化测试

### 13.1 数据持久化

#### P0 TC-191: 刷新页面后数据保持
**测试步骤：**
1. 添加多条记录
2. 刷新浏览器页面

**预期结果：**
- 所有记录仍然存在
- 数据完整无丢失

#### P0 TC-192: 关闭浏览器后数据保持
**测试步骤：**
1. 添加多条记录
2. 完全关闭浏览器
3. 重新打开浏览器和页面

**预期结果：**
- 所有记录仍然存在
- 数据完整无丢失

#### P2 TC-193: 多标签页数据同步
**测试步骤：**
1. 打开两个标签页，都显示日常记录页面
2. 在标签页A添加一条记录
3. 刷新标签页B

**预期结果：**
- 标签页B显示新添加的记录
- 数据通过localStorage同步

#### P2 TC-194: 编辑后刷新页面
**测试步骤：**
1. 编辑一条记录
2. 刷新页面

**预期结果：**
- 编辑后的数据正确保存
- 刷新后显示编辑后的内容

#### P2 TC-195: 删除后刷新页面
**测试步骤：**
1. 删除一条记录
2. 刷新页面

**预期结果：**
- 删除操作正确保存
- 刷新后记录不再显示

### 13.2 数据完整性

#### P1 TC-196: 导入后数据完整性验证
**测试步骤：**
1. 导出数据
2. 清空所有数据
3. 导入刚才导出的文件
4. 验证每条记录的所有字段

**预期结果：**
- 所有字段数据完整
- 三餐、内务、步数、打卡时间、备注等全部正确

#### P2 TC-197: 编辑时字段完整性
**测试步骤：**
1. 编辑一条完整记录
2. 只修改一个字段
3. 提交

**预期结果：**
- 其他字段保持不变
- 只有修改的字段更新

#### P2 TC-198: 同一天多条记录处理
**测试步骤：**
1. 在同一天添加多条记录
2. 查看列表和统计

**预期结果：**
- 根据业务逻辑决定是否允许
- 或系统自动合并/覆盖
- 或显示多条记录

---

## 十四、性能测试

### 14.1 大量数据性能

#### P2 TC-199: 添加1000条记录性能
**测试步骤：**
1. 快速添加1000条记录
2. 观察页面响应速度

**预期结果：**
- 添加操作流畅
- 页面无明显卡顿

#### P2 TC-200: 列表渲染1000条记录性能
**测试步骤：**
1. 已有1000条记录
2. 打开列表页面

**预期结果：**
- 列表加载时间可接受（<3秒）
- 滚动流畅

#### P2 TC-201: 筛选1000条记录性能
**测试步骤：**
1. 已有1000条记录
2. 应用筛选条件

**预期结果：**
- 筛选响应时间可接受（<1秒）
- 结果正确显示

#### P2 TC-202: 统计计算1000条记录性能
**测试步骤：**
1. 已有1000条记录
2. 打开数据看板

**预期结果：**
- 统计计算时间可接受（<2秒）
- 图表正常渲染

---

## 测试总结

### 测试覆盖范围（全部200个用例）
- ✅ 记录添加功能（38个用例）
- ✅ 记录编辑功能（7个用例）
- ✅ 记录删除功能（3个用例）
- ✅ 列表展示功能（10个用例）
- ✅ 筛选功能（28个用例）
- ✅ 数据导入导出功能（9个用例）
- ✅ 数据清空功能（3个用例）
- ✅ 数据看板功能（20个用例）- 统计卡片、图表展示
- ✅ 边界条件和特殊场景（15个用例）
- ✅ UI/UX测试（5个用例）
- ✅ 统计计算深度测试（30个用例）- 工作时长、在公司时长、学习时长、打卡合格率、内务完成率
- ✅ 表单交互细节测试（10个用例）- 输入框、日期时间选择器
- ✅ 数据一致性和持久化测试（8个用例）
- ✅ 性能测试（4个用例）

**总计：200个测试用例**

### 重点测试项
1. **三餐状态**：循环切换、三种状态的组合、筛选逻辑（三个都规律才算规律）
2. **步数等级**：五个等级的边界值、筛选
3. **打卡时间**：正常/不正常判断逻辑、筛选、工作时长计算
4. **内务筛选**：洗漱、洗浴、家务的分类筛选
5. **统计功能**：各种完成率计算、工作时长、学习时长计算
6. **数据完整性**：导入导出、数据一致性
7. **时间计算精度**：精确到0.1小时的计算
8. **边界值处理**：各种统计计算的边界情况
9. **数据持久化**：localStorage存储和同步
10. **性能优化**：大量数据的处理性能

### 测试完成度
✅ **日常记录模块测试用例编写完成（200个用例）**

所有功能点、边界条件、异常情况、特殊场景、统计计算、交互细节、数据一致性和性能均已覆盖。测试用例可用于全面测试日常记录模块的各项功能。
